% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

% This is a simple template for a LaTeX document using the "article" class.
% See "book", "report", "letter" for other types of document.

\documentclass[11pt]{article} % use larger type; default would be 10pt

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)

%%% Examples of Article customizations
% These packages are optional, depending whether you want the features they provide.
% See the LaTeX Companion or other references for full information.

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{a4paper} % or letterpaper (US) or a5paper or....
% \geometry{margin=2in} % for example, change the margins to 2 inches all round
% \geometry{landscape} % set up the page for landscape
%   read geometry.pdf for detailed page layout information

\usepackage{graphicx} % support the \includegraphics command and options

% \usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
% \usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{enumitem}
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
% These packages are all incorporated in the memoir class to one degree or another...

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!

%%% END Article customizations

%%% The "real" document content comes below...

\title{Gimmer Token Sale Smart Contracts Specifications}
\author{Lucas Assis Ribeiro}
\date{December 7th, 2017} % Activate to display a given date or no date (if empty),
         % otherwise the current date is printed 

\begin{document}
\maketitle

\section {Gimmer Pre Sale}

The Gimmer Pre Sale contract is basically a crowdsale and intransferable-token contract used as a proxy during the presale period before opening to the full public.\\
Its limited to selling \textbf{15\%} of the tokens.

\subsection{Parameters}
Total Tokens for Sale: \textbf{15.000.000 GMR}\\
Band 1 Minimum/Minimum Transaction: \textbf{30 ETH}\\
Band 2 Minimum: \textbf{300 ETH}\\
Band 3 Minimum: \textbf{3000 ETH}\\
Base Conversion Rate: \textbf{1 ETH = 1000 GMR}\\
Band 1 Rate: \textbf{1 ETH = 1250 GMR}\\
Band 2 Rate: \textbf{1 ETH = 1300 GMR}\\
Band 3 Rate: \textbf{1 ETH = 1400 GMR}\\
Start Time: \textbf{Friday, November 24. 2017, 12:00:00 PM UTC}\\
End Time: \textbf{Tuesday, January 2. 2018, 12:00:00 PM UTC}\\

\subsection{Constructor}
\subsubsection{Fund Wallet}
The wallet that the contract will forward the received Wei to (see Constants - Fund Wallet).

\subsubsection{KYC Manager Wallet}
The wallet that will start as the KYC Manager wallet (see Variables - KYC Manager Wallet).

\subsection{Variables}

\subsubsection{Tokens Sold}
The total amount of tokens sold through the Pre Sale contract.

\subsubsection{Wei Raised}
The total amount of Wei that has passed through the Pre Sale contract.

\subsubsection{KYC Manager Wallet}
The wallet that is able to approve the KYC of supporters. \\
Can be changed by the owner of the contract by calling setKYCManager.\\
Start Value: \textbf{0xbb3628807c424b58b8db1ae5e304255b84581af1}

\subsection{Constants}
\subsubsection{Fund Wallet}
The wallet that the Wei funds will be forwarded to.\\
Value: \textbf{0x8c789463412b2697185e103ded5f75b9b3931a84}

\subsubsection{One Million}
Reference value to calculate the Pre Sale Token cap\\
Value: \textbf{1.000.000}

\subsubsection{Pre Sale GMRP Token Cap}
The total amount of tokens that can be sold in the PreSale contract.\\
Value: \textbf{15.000.000 tokens}

\subsubsection{Pre Sale 30 ETH}
The minimum amount of Wei needed to get 25\% bonus tokens.\\
Value: \textbf{30 ETH}

\subsubsection{Pre Sale 300 ETH}
The minimum amount of Wei needed to get 30\% bonus tokens.\\
Value: \textbf{300 ETH}

\subsubsection{Pre Sale 3000 ETH}
The minimum amount of Wei needed to get 40\% bonus tokens.\\
Value: \textbf{3000 ETH}

\subsubsection{Token Rate 25\% Bonus}
The rate to multiply the received Wei by when the amount is in the 25\% bonus range.\\
Value: \textbf{1250}

\subsubsection{Token Rate 30\% Bonus}
The rate to multiply the received Wei by when the amount is in the 30\% bonus range.\\
Value: \textbf{1300}

\subsubsection{Token Rate 40\% Bonus}
The rate to multiply the received Wei by when the amount is in the 40\% bonus range.\\
Value: \textbf{1400}

\subsubsection{Start Time}
The start date of the contract in Unix time. \\
24th November 2017 12:00 UTC\\
Value: \textbf{Timestamp 1511524800}

\subsubsection{End Time}
The ending date for the contract in Unix time.\\
2nd January 2018 12:00 UTC\\
Value: \textbf{Timestamp 1514894400}

\subsubsection{Name}
The name of the token, for logging purposes.\\
Value: \textbf{GimmerPreSale Token}

\subsubsection{Symbol}
The symbol of the presale token.\\
Value: \textbf{GMRP}

\subsubsection{Decimals}
The total amount of decimals.\\
Value: \textbf{18}

\subsection{Public State-Changing Functions}
\subsubsection{()}
Fallback function, calls buyTokens().

\subsubsection{buyTokens()}
Buys tokens based on the amount of Wei sent to the contract.\\
KYC approval is needed for the transaction to fullfill.

\subsubsection{approveUserKYC(address user)}
Approves the KYC for the specified wallet address.\\
Only the KYC Manager wallet can execute this.

\subsubsection{disapproveUserKYC(address user)}
Disapproves the KYC for the specified wallet address.\\
Only the KYC Manager wallet can execute this.

\subsubsection{setKYCManager(address newKYCManager)}
Changes the KYC Manager wallet address to a new one.\\
Only the Owner of the contract can execute this.

\subsubsection{transferOwnership(address newOwner)}
Changes the owner of the contract to a new one.\\
Only the Owner of the contract can execute this.

\section{Gimmer Token}
Gimmer Token is the contract for the GMR Tokens in the Gimmer ecosystem.\\
It's a Mintable Token, meaning the Crowdsale actually creates the tokens before each transaction.\\

\subsection{Parameters}
Maximum Token Cap: \textbf{110.000.000 GMR}\\
Name: \textbf{GimmerToken}\\
Decimals: \textbf{18}\\
Symbol: \textbf{GMR}

\section{Gimmer Crowd Sale}
Gimmer Crowd Sale is the main contract for the actual token sale.\\
KYC approval and balance will be initially imported from the PreSale contract, so all users that participated in the PreSale will already have their GMR balance/approval when the contract starts.\\
The total amount of tokens for sale is 100.000.000 GMR minus the total amount sold on the Pre Sale contract - which should amount to 85.000.000 if we sell everything on the Pre Sale stage.

\subsection{Parameters}
Total tokens for sale: \textbf{85.000.000 GMR}\\
Minimum transaction: \textbf{0.1 ETH}\\
Wei Limit Without KYC: \textbf{30 ETH}\\
Base conversion: \textbf{1 ETH = 1000 GMR}\\
Week 1 Rate: \textbf{1 ETH = 1200 GMR}\\
Week 2 Rate: \textbf{1 ETH = 1150 GMR}\\
Week 3 Rate: \textbf{1 ETH = 1100 GMR}\\
Week 4 Rate: \textbf{1 ETH = 1050 GMR}\\
Week 1 Date: \textbf{12:00 3rd January 2018 to 11:59 UTC on 10th January 2018}\\
Week 2 Date: \textbf{12:00 10th January 2018 to 11:59 UTC on 17th January 2018}\\
Week 3 Date: \textbf{12:00 17th January 2018 to 11:59 UTC on 24th January 2018}\\
Week 4 Date: \textbf{12:00 24th January 2018 to 11:59 UTC on 31st January 2018}\\

\subsection{Specifications}
\subsubsection{KYC}
Know-Your-Customer rules that users cannot spend more than a specified amount before needing to be approved by the KYC Manager wallet.\\
Only the owner of the contract can change the KYC Manager wallet.\\
All KYC information will be imported at the start of the crowdsale contract, so users that we're approved before will start approved here.

\subsubsection{GMRP}
Together with KYC, GMRP token balance will be prefilled into GMR to all users that participated in the presale.

\subsubsection{Sale Wei Limit Without KYC}
The limit of Wei an user can spend in this contract before being blocked and requiring KYC approval.\\
This can be updated by the owner of the contract by using updateSaleLimitWithoutKYC, see Functions\\
Value: \textbf{?? USD/ETH}\\

\subsubsection{Freeze Wallet}
The wallet where the frozen funds will go incase we sell less than the lower bound limit.

\subsection {Open Questions}

\subsubsection{How many ETH can one invest without KYC?}
Value: \textbf{30 ETH}\\
The owner should be able to change the KYC minimum amount.

\subsubsection{All investors will have KYC or we would want to allow without KYC?}
We'll accept all investors, but lock anyone that wants to buy more than a specified amount.\\
Additional: What if someone uses several different wallets to buy tokens? If we don't KYC everyone there's still the possibility of someone going the extra mile and distributing ETH to several different accounts and buying more than it should be allowed.

\subsubsection{What is the logic of 10\% extra token created?}
Comission to the Gimmer Team over the total amount of tokens sold.

\subsubsection{How should 50 million token will be handled?/What is freeze wallet?}
If we sell less tokens than the lower bound limit (50 million tokens) we mint the remaining unsold tokens (50 million - sold) and transfer them to a cold storage frozen wallet.\\

\subsubsection{Tokens which are not sold during the Pre Sale, Do we want to sell those tokens during the Crowd Sale?}
Yes.

\end{document}